<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Consentimiento Informado Psicología</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 16px;
      background: #eef3f8; 
    }
    .container {
      max-width: 600px;
      margin: 0 auto;
      background: #fff;
      padding: 24px;
      border-radius: 10px;
      box-shadow: 0 2px 6px rgba(0,0,0,0.18);
    }
    h2 {
      margin-top: 0;
      color: #2e4053;
      font-size: 1.5em;
    }
    .consent-text {
      font-size: 1em;
      margin-bottom: 24px;
      color: #222;
    }
    label.checkbox-label {
      display: flex;
      align-items: center;
      cursor: pointer;
      margin-bottom: 24px;
    }
    input[type="checkbox"] {
      margin-right: 10px;
      width: 18px;
      height: 18px;
      accent-color: #256aff;
      cursor: pointer;
    }
    .signature-pad {
      margin: 16px 0;
      border: 1px solid #ccc;
      background: #fafafa;
      border-radius: 5px;
      touch-action: none;
      width: 100%;
      height: 120px;
    }
    button {
      background: #256aff;
      color: #fff;
      border: none;
      border-radius: 7px;
      padding: 12px 24px;
      font-size: 1em;
      cursor: pointer;
      transition: background 0.2s;
      width: 100%;
      margin-bottom: 8px;
    }
    button:disabled {
      background: #bdc3c7;
      cursor: not-allowed;
    }
    @media (max-width: 600px) {
      .container {
        padding: 8px;
      }
      h2 {
        font-size: 1.1em;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <h2>Consentimiento Informado de Psicología</h2>
    <div class="consent-text">
      <strong>Por favor, completa tus datos para iniciar el proceso.</strong><br><br>
      Yo, manifiesto mi consentimiento libre, voluntario y consciente para recibir servicios de psicología por parte de Jorge Arango Castaño, de acuerdo con los siguientes términos:<br><br>
      El objetivo de este proceso es la exploración y orientación en mi propósito y proyecto de vida, abordando las diversas áreas de mi existencia que puedan estar afectando mi bienestar psicológico y emocional. Se utilizarán técnicas de la psicología humanista-existencial y Programación Neurolingüística (PNL) para facilitar mi autodescubrimiento y crecimiento personal.<br><br>
      Soy consciente de que la terapia es un <strong>proyecto</strong> con un inicio y un fin, y que su éxito depende de mi compromiso y participación activa. Acepto la asignación de tareas inter-sesiones y entiendo que la falta de cumplimiento en repetidas ocasiones podría ser motivo para revisar el proceso, tal como se me ha explicado.<br><br>
      Autorizo el tratamiento de mis datos personales y sensibles (incluida mi información de salud mental) de acuerdo con la Ley 1581 de 2012 y el Decreto 1377 de 2013, así como con la Política de Protección de Datos de Jorge Arango Castaño - Caminos del Ser. Estos datos serán utilizados exclusivamente para fines terapéuticos, de seguimiento y estadísticos anonimizados. En ningún caso se compartirán con fines comerciales.<br><br>
      Entiendo que puedo ejercer mis derechos de acceso, corrección, supresión y revocación de mi autorización en cualquier momento, de acuerdo con la legislación vigente.<br><br>
      Al firmar digitalmente y presionar el botón de "Enviar", confirmo que he leído, entendido y aceptado todos los términos del presente consentimiento informado.
    </div>
    <label class="checkbox-label">
      <input type="checkbox" id="consentido" />
      He leído y acepto los términos y condiciones anteriores.
    </label>

    <canvas id="firma" class="signature-pad"></canvas>
    <button id="clearFirma">Borrar firma</button>
    <button id="enviarBtn" disabled>Enviar</button>
    <p id="estadoEnvio" style="color: green;"></p>
  </div>
  <script>
    // Habilitar el botón de enviar solo si se marca la casilla
    const consentido = document.getElementById('consentido');
    const enviarBtn = document.getElementById('enviarBtn');
    consentido.addEventListener('change', () => {
      enviarBtn.disabled = !consentido.checked;
    });

    // Funcionamiento básico de firma digital
    const canvas = document.getElementById('firma');
    const ctx = canvas.getContext('2d');
    let dibujando = false;

    canvas.addEventListener('pointerdown', function(e) {
      dibujando = true;
      ctx.beginPath();
      ctx.moveTo(e.offsetX, e.offsetY);
    });
    canvas.addEventListener('pointermove', function(e) {
      if (dibujando) {
        ctx.lineTo(e.offsetX, e.offsetY);
        ctx.stroke();
      }
    });
    canvas.addEventListener('pointerup', function() {
      dibujando = false;
    });
    canvas.addEventListener('pointerleave', function() {
      dibujando = false;
    });

    // Limpiar la firma
    document.getElementById('clearFirma').onclick = function() {
      ctx.clearRect(0, 0, canvas.width, canvas.height);
    };

    // Simular el envío
    enviarBtn.onclick = function() {
      document.getElementById('estadoEnvio').innerText =
        'Tu consentimiento ha sido registrado exitosamente. Te esperamos en tu sesión.';
    };
  </script>
</body>
</html>
